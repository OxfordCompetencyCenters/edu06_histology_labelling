name: edu06_env
channels:
  - rapidsai        # Highest priority for RAPIDS (cuML, cuPy)
  - conda-forge     # Good source for umap-learn and others
  - nvidia          # For CUDA related components if not covered by base image/rapids
  - defaults
dependencies:
  - python=3.10
  - rapids=23.10     # Installs cuML, cuDF, cuPy etc compatible with CUDA 11.x
  - openslide        # C library
  - openslide-python # Python wrapper
  - scikit-learn     # For CPU DBSCAN fallback, NearestNeighbors, normalize
  - matplotlib       # For k-distance plot
  - kneed            # For automatic elbow finding
  - umap-learn
  - numpy
  - pillow           # For PIL Image processing
  - scikit-image
  - opencv            # For tile filtering component (conda package)
  - pip
  - pip:
    - azure-ai-ml
    - azure-identity
    - azure-keyvault-secrets
    # Install PyTorch/Torchvision compatible with CUDA 11.8 from PyTorch index
    - torch==2.1.2 --index-url https://download.pytorch.org/whl/cu118
    - torchvision==0.16.2 --index-url https://download.pytorch.org/whl/cu118
    - cellpose==3.1.1
    - openai